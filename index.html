<!-- Background Music -->
<audio id="bg-music" preload="auto" loop>
  <source src="la_vie_en_rose.mp3" type="audio/mpeg" />
  Your browser does not support the audio element.
</audio>

<!-- Overlay -->
<div id="start-overlay" style="
  position: fixed;
  inset: 0;
  background: white;
  color: black;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 24px;
  z-index: 9999;
  font-family: 'Zeyada', cursive;
  cursor: pointer;
">
  Tap anywhere to begin ðŸŽµ
</div>

<!-- Script -->
<script>
  const overlay = document.getElementById("start-overlay");
  const audio = document.getElementById("bg-music");

  const startExperience = () => {
    // Must be inside the same event handler to work on iOS
    try {
      audio.currentTime = 0;  // resets to beginning
      audio.volume = 1.0;
      audio.play().then(() => {
        console.log("Music playing ðŸŽ¶");
      }).catch(err => {
        console.warn("Play failed:", err);
      });
    } catch (e) {
      console.log("Autoplay failed completely.", e);
    }

    // Remove overlay
    overlay.style.display = "none";
  };

  // Ensure DOM is ready before attaching
  window.addEventListener("DOMContentLoaded", () => {
    document.addEventListener("pointerdown", startExperience, { once: true });
  });
</script>
